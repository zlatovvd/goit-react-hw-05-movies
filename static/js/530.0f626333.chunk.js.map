{"version":3,"file":"static/js/530.0f626333.chunk.js","mappings":"8PACA,EAA0B,wB,SCmE1B,EA9De,WACb,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAAS,MAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,MA4BjB,OAhBAC,EAAAA,EAAAA,YAAU,WACR,GAAKJ,EAAL,CAEA,IAAMK,EAAU,mCAAG,6FACXC,EADW,mEACuDN,GADvD,mBAGMO,EAAAA,EAAAA,GAAQD,GAHd,OAGTX,EAHS,OAIfC,EAAUD,EAAOa,KAAKC,SAJP,gDAMfC,QAAQC,IAAI,KAAMC,SANH,yDAAH,qDAUhBP,GAZkB,CAanB,GAAE,CAACL,KAGF,iBAAKa,UAAWC,EAAhB,WACE,kBAAMC,SAxBW,SAAAC,GACnBA,EAAMC,iBACNlB,EAAgB,CAAEC,MAAOP,IACzBC,EAAU,GACX,EAoBG,WACE,kBACEwB,KAAK,OACLC,KAAK,SACLC,YAAY,SACZC,MAAO5B,EACP6B,SAlCa,SAAAN,GACnBtB,EAAUsB,EAAMO,OAAOF,MACxB,KAkCK,mBAAQH,KAAK,SAAb,uBAEDvB,IACC,wBACGA,EAAO6B,KAAI,YAAmB,IAAhBC,EAAe,EAAfA,GAAIN,EAAW,EAAXA,KACjB,OACE,yBACE,SAAC,KAAD,CAAMO,GAAE,kBAAaD,GAAME,MAAO,CAAEC,KAAM1B,GAA1C,SACGiB,KAFIM,EAMZ,QAKV,C,8DC9DKlB,EAAO,mCAAG,WAAMD,GAAN,iFACDuB,EAAAA,EAAAA,IAAUvB,EAAK,CAC1BwB,OAAQ,CACNC,QALM,sCAEI,mFAAH,sDAQb,K","sources":["webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Movies_wrapper__RtHym\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport getInfo from 'services/moviesApi';\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [search, setSearch] = useState('');\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const location = useLocation();\n\n  const handleChange = event => {\n    setSearch(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setSearchParams({ query: search });\n    setSearch('');\n  };\n\n  useEffect(() => {\n    if (!query) return;\n\n    const loadMovies = async () => {\n      const url = `https://api.themoviedb.org/3/search/company?page=1&query=${query}`;\n      try {\n        const movies = await getInfo(url);\n        setMovies(movies.data.results);\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    loadMovies();\n  }, [query]);\n\n  return (\n    <div className={css.wrapper}>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"search\"\n          placeholder=\"search\"\n          value={search}\n          onChange={handleChange}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {movies && (\n        <ul>\n          {movies.map(({ id, name }) => {\n            return (\n              <li key={id}>\n                <Link to={`/movies/${id}`} state={{ from: location }}>\n                  {name}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst key = 'bf849ac9154ddcf14074361fb0f94011';\n\nconst getInfo = async url => {\n  return await axios.get(url, {\n    params: {\n      api_key: key,\n    },\n  });\n};\n\nexport default getInfo;\n"],"names":["useState","search","setSearch","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","loadMovies","url","getInfo","data","results","console","log","message","className","css","onSubmit","event","preventDefault","type","name","placeholder","value","onChange","target","map","id","to","state","from","axios","params","api_key"],"sourceRoot":""}